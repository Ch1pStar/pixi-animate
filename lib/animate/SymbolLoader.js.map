{"version":3,"sources":["../../src/animate/SymbolLoader.js"],"names":["SymbolLoader","resource","next","url","data","search","add","name","nodeName","PIXI","Texture","addTextureToCache","fromFrame","loaders","Loader","addPixiMiddleware"],"mappings":";;;;AAAA;;;;;;AAEA;;;;;;;AAOA,IAAIA,eAAe,SAAfA,YAAe,GAAW;AAC1B,WAAO,UAASC,QAAT,EAAmBC,IAAnB,EAAyB;AAC5B,YAAIC,MAAMF,SAASE,GAAnB;AACA,YAAIC,OAAOH,SAASG,IAApB;;AAEA,YAAI,CAACA,IAAL,EAAW;AACPF;AACH,SAFD,MAEO,IAAIC,IAAIE,MAAJ,CAAW,wBAAX,IAAuC,CAAC,CAA5C,EAA+C;AAClD,kCAAYC,GAAZ,CAAgBL,SAASM,IAAzB,EAA+BH,IAA/B;AACH,SAFM,MAEA,IAAIA,KAAKI,QAAL,IAAiBJ,KAAKI,QAAL,KAAkB,KAAvC,EAA8C;AACjD;AACA;AACAC,iBAAKC,OAAL,CAAaC,iBAAb,CACIF,KAAKC,OAAL,CAAaE,SAAb,CAAuBT,GAAvB,CADJ,EAEIF,SAASM,IAFb;AAIH;AACDL;AACH,KAjBD;AAkBH,CAnBD;;AAqBA;AACAO,KAAKI,OAAL,CAAaC,MAAb,CAAoBC,iBAApB,CAAsCf,YAAtC;;kBAEeA,Y","file":"SymbolLoader.js","sourcesContent":["import ShapesCache from './ShapesCache';\r\n\r\n/**\r\n * The middleware for PIXI's ResourceLoader to be able to \r\n * load Flash symbols such as graphics and images.\r\n * @memberof PIXI.animate\r\n * @class SymbolLoader\r\n * @private\r\n */\r\nlet SymbolLoader = function() {\r\n    return function(resource, next) {\r\n        let url = resource.url;\r\n        let data = resource.data;\r\n\r\n        if (!data) {\r\n            next();\r\n        } else if (url.search(/\\.shapes\\.(json|txt)$/i) > -1) {\r\n            ShapesCache.add(resource.name, data);\r\n        } else if (data.nodeName && data.nodeName === 'IMG') {\r\n            // Add individual images to the texture cache by their\r\n            // short symbol name, not the URL\r\n            PIXI.Texture.addTextureToCache(\r\n                PIXI.Texture.fromFrame(url),\r\n                resource.name\r\n            );\r\n        }\r\n        next();\r\n    };\r\n};\r\n\r\n// Assign to the loader\r\nPIXI.loaders.Loader.addPixiMiddleware(SymbolLoader);\r\n\r\nexport default SymbolLoader;"]}