/*! PixiAnimate 0.3.0 */
!function(){"use strict";!function(a,b){"use strict";function c(a,b){var c=b-p,d=b>p?p:b,e=p-d;o+=c>0?a>>c<<e:a<<e,p-=d,0===p&&(n+=h[o],p=8,o=0,c>0&&(o+=(a&j[c])<<8-c,p-=c))}function d(a){var b=a-p,c=a>p?p:a,d=p-c,e=(o&i[p])>>d;return p-=c,0===p&&(o=n.charCodeAt(++q),p=8,b>0&&(e=e<<b|(o&i[p])>>8-b,p-=b)),q>n.length?7:e}function e(b,d){if("number"==typeof b){var f=b!==(0|b)?1:0,g=0;if(0>b&&(b=-b,g=1),c(1+f,3),f){var i=0,j=10,k=b,l=0;do k=b*j,j*=10,i++,l=0|k;while(k-l>1/j&&8>i&&214748364>k);j=l/10,j===(0|j)&&(l=j,i--),b=l}2>b?c(b,4):16>b?(c(1,3),c(b,4)):256>b?(c(2,3),c(b,8)):4096>b?(c(3,3),c(b>>8&255,4),c(255&b,8)):65536>b?(c(4,3),c(b>>8&255,8),c(255&b,8)):1048576>b?(c(5,3),c(b>>16&255,4),c(b>>8&255,8),c(255&b,8)):16777216>b?(c(6,3),c(b>>16&255,8),c(b>>8&255,8),c(255&b,8)):(c(7,3),c(b>>24&255,8),c(b>>16&255,8),c(b>>8&255,8),c(255&b,8)),c(g,1),f&&c(i,4)}else if("string"==typeof b){var m=b.length;c(3,3),m>65535?(c(31,5),c(m>>24&255,8),c(m>>16&255,8),c(m>>8&255,8),c(255&m,8)):m>255?(c(30,5),c(m>>8&255,8),c(255&m,8)):m>28?(c(29,5),c(m,8)):c(m,5),8!==p&&(n+=h[o],o=0,p=8),n+=b}else if("boolean"==typeof b)c(+b,4);else if(null===b)c(7,3),c(0,1);else if(b instanceof a){c(4,3);for(var q=0,r=b.length;r>q;q++)e(b[q]);d||c(6,3)}else{c(5,3);for(var s in b)e(s),e(b[s]);d||c(6,3)}}function f(a){return p=8,o=0,n="",e(a,!0),c(7,3),c(1,1),o>0&&(n+=h[o]),n}function g(c){var e,f,g,h,i,j,l=[],m=-1,r=!1;for(p=8,q=0,n=c,o=n.charCodeAt(q);;){switch(f=d(3)){case 0:h=d(1)?!0:!1;break;case 7:switch(d(1)){case 1:return e;case 7:return b;default:h=null}break;case 1:case 2:switch(d(3)){case 0:h=d(1);break;case 1:h=d(4);break;case 2:h=d(8);break;case 3:h=(d(4)<<8)+d(8);break;case 4:h=(d(8)<<8)+d(8);break;case 5:h=(d(4)<<16)+(d(8)<<8)+d(8);break;case 6:h=(d(8)<<16)+(d(8)<<8)+d(8);break;case 7:h=(d(8)<<24)+(d(8)<<16)+(d(8)<<8)+d(8)}d(1)&&(h=-h),2===f&&(h/=k[d(4)]);break;case 3:var s=d(5);switch(s){case 31:s=(d(8)<<24)+(d(8)<<16)+(d(8)<<8)+d(8);break;case 30:s=(d(8)<<8)+d(8);break;case 29:s=d(8)}if(8!==p&&(q++,o=0,p=8),h=n.substr(q,s),q+=s,o=n.charCodeAt(q),r){i=h,r=!1;continue}break;case 4:case 5:r=5===f,h=r?{}:[],e===b?e=h:j?g[i]=h:g.push(h),g=l[++m]=h,j=!(g instanceof a);continue;case 6:g=l[--m],r=j=!(g instanceof a);continue}if(j)g[i]=h,r=!0;else{if(g===b)return h;g.push(h)}}}for(var h=new a(256),i=new a(9),j=new a(9),k=new a(9),l=0;256>l;l++)h[l]=String.fromCharCode(l);for(var m=0;9>m;m++)i[m]=~(255^(j[m]=Math.pow(2,m)-1)),k[m]=Math.pow(10,m);var n="",o=0,p=8,q=0;"undefined"!=typeof exports?(exports.encode=f,exports.decode=g):window.BISON={encode:f,decode:g}}(Array),function(a){if(!a.PIXI)throw"Requires PIXI";a.PIXI.animate={}}(window),function(a){var b={};Object.defineProperty(b,"add",{enumerable:!1,value:function(a,c){if("object"==typeof a)for(var d in a)b.add(d,a[d]);else b[a]=c}}),Object.defineProperty(b,"decode",{enumerable:!1,value:function(a){b.add(BISON.decode(a))}}),Object.defineProperty(b,"fromCache",{enumerable:!1,value:function(a){return b[a]||null}}),Object.defineProperty(b,"remove",{enumerable:!1,value:function(a){b[a]&&(b[a].length=0,delete b[a])}}),Object.defineProperty(b,"removeAll",{enumerable:!1,value:function(){for(var a in b)b.remove(a)}}),a.animate.GraphicsCache=b}(PIXI),function(a){var b=a.animate.GraphicsCache,c=a.Texture,d=a.loaders.Loader,e=function(){return function(a,d){/_graphics_\.bson$/i.test(a.url)?b.decode(a.data):/_graphics_\.json$/i.test(a.url)?b.add(a.data):a.data.nodeName&&"IMG"==a.data.nodeName&&c.addTextureToCache(c.fromFrame(a.url),a.name),d()}};d.addPixiMiddleware(e)}(PIXI),function(a,b){var c=a.Container,d=(a.DisplayObject,a.animate.Timeline),e=(a.animate.Tween,a.ticker.shared),f=function(a,b,d,e){if(c.call(this),this.mode=a||f.INDEPENDENT,this.startPosition=b||0,this.loop=!!d,this.currentFrame=0,this._labels=[],this._labelDict=e||{},e){for(var g in e){var h={label:g,position:e[g]};this._labels.push(h)}this._labels.sort(function(a,b){return a.position-b.position})}this.selfAdvance=!0,this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this._synchOffset=0,this._prevPos=-1,this._t=0,this._framerate=0,this._duration=0,this._frameDuration=0,this._timelines=[],this._timedChildTimelines=[],this._actions=[],this.mode==f.INDEPENDENT&&(this._tickListener=this._tickListener.bind(this),this._onAdded=this._onAdded.bind(this),this._onRemoved=this._onRemoved.bind(this),this.on("added",this._onAdded),this.on("removed",this._onRemoved))};f.INDEPENDENT=0,f.SINGLE_FRAME=1,f.SYNCHED=2;var g=f.prototype=Object.create(c.prototype);g.initialize=f,g._onAdded=function(){e.add(this._tickListener)},g._tickListener=function(b){if(this.paused||!this.selfAdvance)return void(this._prevPos<0&&this._goto(this.currentFrame));var c=b/e.speed/a.TARGET_FPMS/1e3;this._tick(c)},g._onRemoved=function(){e.remove(this._tickListener)},g.getLabels=function(){return this._labels},g.getCurrentLabel=function(){for(var a=this._labels,b=null,c=0,d=a.length;d>c&&a[c].position<=this.currentFrame;++c)b=a[c].label;return b};try{Object.defineProperties(g,{labels:{get:g.getLabels},currentLabel:{get:g.getCurrentLabel}})}catch(h){}Object.defineProperty(g,"elapsedTime",{get:function(){return this._t},set:function(a){this._t=a}}),Object.defineProperty(g,"framerate",{get:function(){return this._framerate},set:function(a){a>0?(this._framerate=a,this._duration=a?this._frameDuration/a:0):this._framerate=this._duration=0}}),g.tw=g.addTween=function(a,b,c,e,f){var g,h;for(h=this._timelines.length-1;h>=0;--h)if(this._timelines[h].target==a){g=this._timelines[h];break}return g||(g=new d(a),this._timelines.push(g)),g.addTween(a,b,c,e,f),this},g.at=g.addTimedChild=function(a,b,c){null==b&&(b=0),(null==c||1>c)&&(c=1);var d,e;for(e=this._timedChildTimelines.length-1;e>=0;--e)if(this._timedChildTimelines[e].target==a){d=this._timedChildTimelines[e];break}d||(d=[],d.target=a,this._timedChildTimelines.push(d));var f=d.length;if(b+c>f&&(d.length=b+c,b>f))if(d.fill)d.fill(!1,f,b);else for(e=f;b>e;++e)d[e]=!1;if(d.fill)d.fill(!0,b,b+c);else{var g=d.length;for(e=b;g>e;++e)d[e]=!0}return this},g.aa=g.addAction=function(a,b){var c=this._actions;return c.length<=b&&(c.length=b+1),this._frameDuration<=b&&(this._frameDuration=b),c[b]?c[b].push(a):c[b]=[a],this},g.play=function(){this.paused=!1},g.stop=function(){this.paused=!0},g.gotoAndPlay=function(a){this.paused=!1,this._goto(a)},g.gotoAndStop=function(a){this.paused=!0,this._goto(a)},g.advance=function(a){if(!this._framerate){for(var b=this,c=b._framerate;(b=b.parent)&&!c;)b.mode==f.INDEPENDENT&&(c=b._framerate);this.framerate=c}a&&(this._t+=a),this._t>this._duration&&(this._t=this.loop?this._t-this._duration:this._duration),this.currentFrame=Math.floor(this._t*this._framerate+1e-8),this.currentFrame>=this._frameDuration&&(this.currentFrame=this._frameDuration-1),this._updateTimeline()},g._tick=function(a){this.advance(a)},g._goto=function(a){var b="string"==typeof a?this._labelDict[a]:a;null!=b&&(-1==this._prevPos&&(this._prevPos=NaN),this.currentFrame=b,this._framerate>0?this._t=b/this._framerate:this._t=0,this._updateTimeline())},g._reset=function(){this._prevPos=-1,this._t=0,this.currentFrame=0},g._updateTimeline=function(){var a=this.mode!=f.INDEPENDENT;if(a&&(this.currentFrame=this.startPosition+(this.mode==f.SINGLE_FRAME?0:this._synchOffset),this.currentFrame>=this._frameDuration&&(this.currentFrame%=this._frameDuration)),this._prevPos!=this.currentFrame){var b=this._prevPos<0?0:this._prevPos;this._setTimelinePosition(b,this.currentFrame,a?!1:this.actionsEnabled),this._prevPos=this.currentFrame}},g._setTimelinePosition=function(a,b,c){var d,e,g,h=this._timelines;for(d=h.length-1;d>=0;--d){var i=h[d];for(e=0,g=i.length;g>e;++e){var j=i[e];if(b>=j.startFrame&&b<=j.endFrame){j.setPosition(b);break}}}var k=this._timedChildTimelines;for(d=0,g=k.length;g>d;++d){var l=k[d].target,m=k[d][b];m&&l.parent!=this?(this.addChild(l),l.mode==f.INDEPENDENT&&l.autoReset&&l.reset()):m||l.parent!=this||this.removeChild(l)}var n=this.children;for(d=0,g=n.length;g>d;++d)n[d].mode==f.SYNCHED&&(n[d]._synchOffset=b-n[d].parentStartPosition,n[d]._updateTimeline());if(c){var o=this._actions,p=!1;for(a>b?(g=o.length,p=!0):g=Math.min(b+1,o.length),d=a,g=Math.min(b+1,o.length);g>d;++d){if(o[d]){var q=o[d];for(e=0;e<q.length;++e)q[e].call(this)}p&&d==g-1&&(d=0,g=b+1,p=!1)}}},g.__Container_destroy=g.destroy,g.destroy=function(a){this._tickListener&&(e.remove(this._tickListener),this._tickListener=null),this.__Container_destroy(a)},f.extend=function(a){return a.prototype=Object.create(g),a.prototype.__parent=g,a.prototype.constructor=a,a},a.animate.MovieClip=f}(PIXI),function(a){function b(a){Array.call(this),this.target=a,this._currentProps={}}function c(a,b){switch(b){case"x":return a.position.x;case"y":return a.position.y;case"sx":return a.scale.x;case"sy":return a.scale.y;case"kx":return a.skew.x;case"ky":return a.skew.y;case"r":return a.rotation;case"a":return a.alpha;case"t":return a.tint;case"v":return a.visible;case"m":return a.mask;case"p":return{m:a.mode,sp:a.startPosition,parentSP:0}}}var d=a.animate.Tween,e=b.prototype=Object.create(Array.prototype);e.addTween=function(a,b,e,f,g){var h,i={};for(h in b)if(this._currentProps.hasOwnProperty(h))i[h]=this._currentProps[h];else for(var j=i[h]=c(a,h),k=this.length-1;k>=0;--k)this[k].startProps[h]=j,this[k].endProps[h]=j;var l=new d(a,i,b,e,f,g);this.push(l),b=l.endProps;for(h in b)this._currentProps[h]=b[h]},a.animate.Timeline=b}(PIXI),function(a){function b(a,b,c){return a+(b-a)*c}function c(a,b,c){var d=a>>16&255,e=a>>8&255,f=255&a,g=b>>16&255,h=b>>8&255,i=255&b,j=d+(g-d)*percent;0>j?j=0:j>255&&(j=255);var k=e+(h-e)*percent;0>k?k=0:k>255&&(k=255);var l=f+(i-f)*percent;0>l?l=0:l>255&&(l=255);var m=j<<16|k<<8|l;return m}function d(a,b,c){var d=Math.abs(b-a);d>h&&(b>a?a+=i:b+=h+i);var e=a+(b-a)*c;return e}function e(a,b,c){switch(b){case"x":a.position.x=c;break;case"y":a.position.y=c;break;case"sx":a.scale.x=c;break;case"sy":a.scale.y=c;break;case"kx":a.skew.x=c;break;case"ky":a.skew.y=c;break;case"r":a.rotation=c;break;case"a":a.alpha=c;break;case"t":a.tint=c;break;case"v":a.visible=c;break;case"m":a.mask=c;break;case"p":c?(a.mode=c.m,a.startPosition=c.sp,a.parentStartPosition=c.parentSP,1==a.mode&&a.gotoAndStop(a.startPosition)):(a.mode=0,a.startPosition=-1,a.parentStartPosition=-1)}}var f=function(a,b,c,d,e,f){this.target=a,this.startProps=b,this.endProps={};var g;for(g in c)this.endProps[g]=c[g],"p"==g&&(this.endProps.p.parentSP=d);for(g in b)this.endProps.hasOwnProperty(g)||(this.endProps[g]=b[g]);this.duration=e,this.startFrame=d,this.endFrame=d+e,this.ease=f},g=f.prototype,h=Math.PI,i=2*h;f.propDict={x:b,y:b,sx:b,sy:b,kx:b,ky:b,r:d,a:b,t:c,v:null,m:null,g:null,p:null},g.setPosition=function(a){if(a>=this.endFrame)return void this.setToEnd();var b=(a-this.startFrame)/this.duration;this.ease&&(b=this.ease(b));var c=this.startProps,d=this.endProps;for(var g in d){var h=f.propDict[g];h&&e(target,g,h(c[g],d[g],b))}},g.setToEnd=function(){var a=this.endProps;for(var b in a)e(target,b,a[b])},a.animate.Tween=f}(PIXI),function(a,b){var c=a.Container.prototype;c.ac=c.addChild,a.Container.extend=function(a){return a.prototype=Object.create(c),a.prototype.__parent=c,a.prototype.constructor=a,a}}(PIXI),function(a){var b=a.DisplayObject.prototype;b.setRenderable=b.re=function(a){return this.renderable=!!a,this},b.tr=b.setTransform,b.setMask=b.ma=function(a){return this.mask=a,this},b.setTint=b.tn=function(a){return this.tint=a,this},a.DisplayObject.extend=function(a){return a.prototype=Object.create(b),a.prototype.__parent=b,a.prototype.constructor=a,a}}(PIXI),function(a,b){var c=a.Graphics.prototype;c.drawCommands=c.d=function(a){for(var c,d=[],e=0;e<=a.length;){var f=a[e++];f===b||this[f]?(c&&(this[c].apply(this,d),d.length=0),c=f):(/^#/.test(f)&&(f=parseInt(f.substr(1),16)),d.push(f))}return this},c.c=c.closePath,c.h=c.addHole,c.m=c.moveTo,c.l=c.lineTo,c.q=c.quadraticCurveTo,c.b=c.bezierCurveTo,c.f=c.beginFill,c.s=c.lineStyle,c.dr=c.drawRect,c.rr=c.drawRoundedRect,c.rc=c.drawRoundedRect,c.dc=c.drawCircle,c.a=c.arc,c.at=c.arcTo,c.de=c.drawEllipse,c.lf=function(a){return this.f(a[0])},c.rf=function(a){return this.f(a[0])},c.bf=function(){return this.f(0)},c.sd=function(){return this},c.bs=function(){return this},c.ls=function(){return this},c.rs=function(){return this}}(PIXI),function(a,b){var c=a.Sprite.prototype;a.Sprite.extend=function(a){return a.prototype=Object.create(c),a.prototype.__parent=c,a.prototype.constructor=a,a}}(PIXI),function(a,b){var c=a.Text.prototype;c.setAlign=c.al=function(a){this.style.align=a||"left";var b=0;switch(a){case"center":b=.5;break;case"right":b=1}return this.anchor.x=b,this},c.setShadow=c.sh=function(a,c,e){var f=this.style;return f.dropShadow=!0,a!==b&&(a="#"+a.toString(16)),f.dropShadowColor=d(a,f.dropShadowColor),f.dropShadowAngle=d(c,f.dropShadowAngle),f.dropShadowDistance=d(e,f.dropShadowDistance),this};var d=function(a,c){return a===b?c:a}}(PIXI);}();